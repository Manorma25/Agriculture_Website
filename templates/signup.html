<!DOCTYPE html>
<html lang="en">
   
    {% load static %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link href="base.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{%static 'css/bootstrap.min.css' %}">
   
    <script src="{%static 'js/bootstrap.bundle.min.js' %}"></script>
     <link rel="stylesheet" href="{% static 'icofont/icofont.min.css' %}">

     <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
     <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

        <style>
            .log-main{
            font-family: sans-serif;
        }
            
            .form-control:focus{
                
              border: 1px solid #4baf47;
              box-shadow: none !important;
             
            }
            ::placeholder {
        font-size: 0.8em;
    }

    .s{
            color:white;background-color: #4baf47;border-radius: 20px;
        }

        .s:hover{
            transition: 0.5s;
            transform: scale(1.04);
            background-color: #eec044;
            color: white;
            
        }

        .custom-button {
            background: linear-gradient(to right, #4baf47 60%, #388e3c 40%); /* Dual-tone green */
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 10px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
            margin-left: 345px;
            margin-top: -px;  
        }

        .custom-button .text {  
            margin-right: 10px;
        }

        .custom-button .icon {
            font-size: 24px; /* Adjust size as needed */
        }

        .loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Ensures it appears on top of everything */
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}

.loader-overlay.show {
    visibility: visible;
    opacity: 1;
}
 
        @media (max-width: 768px) {
            .log-main{
                padding-top: 0px !important;
            }
            .image-col {
                display: none;
            }
            .main, .g{
                padding: 0px !important;
            }  
            .custom-button{
                margin-left: 130px;
            }
            .main1{
               
              
                padding: 10px !important;
                background-color: white !important;
                box-shadow: none !important;
            }
            .main2{
                padding: 10px !important;
                box-shadow: 0px 8px 25px rgba(0, 0, 0, 0.15);;
            }

        }

        </style>



</head>

<body>

    <div id="loader" class="loader-overlay">
        <img src="{%static 'images/loader.gif' %}" alt="Loading..." height="200px" width="200px" style="border-radius: 50%;">
    </div>
    

    <div class="container log-main pt-4">
        <div class=" pt-5">
            {% if err %}
            <div class="alert alert-danger" role="alert" style="margin-top: -72px;">
                {{err}}
            </div>
            {% endif %}

            <!-- <div class="alert alert-danger" role="alert" style="margin-top: -72px;">
                Hello
            </div> -->
 
         
                <div class="row  pe-5 pb-3 pt-4 ps-3 main1" data-aos="zoom-in-up" data-aos-duration="1000" style="background-color: #e8f6e9;box-shadow: 0px 8px 25px rgba(0, 0, 0, 0.15);">
                    <div class="col-md-5 p-4 pb-1 main2"
                        style="background-color: white;border-radius: 20px;border: 2px solid #4baf47;">
                        <p class="fs-1" style="font-family: sans-serif;font-weight: bold;">Sign up</p>
                        <h6 class="pb-4" style="margin-top: -20px;">Stay updated with AgroTech</h6>
                        <form method="POST" class="pb-4" onsubmit="return validatePassword()" >
                            {% csrf_token %}
                        <div class="input-group" style="border:1px solid #ccc ;border-radius: 8px;">
                            <span class="input-group-text"><img src="{%static 'images/user.png' %}"></i></span>
                            <input type="text" name="r_name" class="form-control form-control"
                                placeholder="Full Name" required autocomplete="off" >
                        </div>

                        <div class="input-group mt-3" style="border:1px solid #ccc ;border-radius: 8px;">
                            <span class="input-group-text"><img src="{%static 'images/email (2).png' %}"></i></span>
                            <input type="email" name="r_email" class="form-control form-control"
                                placeholder="Email" required autocomplete="off">
                        </div>

                        <!-- <div class="input-group mt-3" style="border:1px solid #ccc ;border-radius: 8px;">
                            <span class="input-group-text"><img src="{%static 'images/padlock (1).png' %}"></i></span>
                            <input id=password type="password" name="r_password" class="form-control form-control"
                            placeholder="Password" required autocomplete="off" minlength="8"
                            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%?&])[A-Za-z\d@$!%?&]{8,}"
                            title="Must contain at least 8 characters, including uppercase, lowercase, number, and special character.">
                     
                        </div>

                        <div class="input-group mt-3" style="border:1px solid #ccc ;border-radius: 8px;">
                            <span class="input-group-text"><img src="{%static 'images/padlock (1).png' %}"></i></span>
                            <input type="password" name="r_cpassword" class="form-control form-control"
                                placeholder="Confirm Password" required autocomplete="off" >
                        </div> -->

                        <div class="input-group mt-3" style="border:1px solid #ccc ;border-radius: 8px;">
                            <span class="input-group-text"><img src="{% static 'images/padlock (1).png' %}"></span>
                            <input id="password" type="password" name="r_password" class="form-control" placeholder="Password" required autocomplete="off" minlength="8"
                                pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%?&])[A-Za-z\d@$!%?&]{8,}"
                                title="Must contain at least 8 characters, including uppercase, lowercase, number, and special character.">
                            <span class="input-group-text toggle-password" onclick="togglePassword('password')">
                                <i class="icofont-eye-alt"></i>
                            </span>
                        </div>
                        
                        <div class="input-group mt-3" style="border:1px solid #ccc ;border-radius: 8px;">
                            <span class="input-group-text"><img src="{% static 'images/padlock (1).png' %}"></span>
                            <input id="confirm-password" type="password" name="r_cpassword" class="form-control" placeholder="Confirm Password" required autocomplete="off">
                            <span class="input-group-text toggle-password" onclick="togglePassword('confirm-password')">
                                <i class="icofont-eye-alt"></i>
                            </span>
                        </div>
  
                        <a>
                        <div class="pt-4" style="display: flex;justify-content: center;">
                            <button class="btn pe-5 ps-5 fs-5 s shadow">
                                Sign up
                            </button>
                        </div>
                        </a>
                    </form>

                        <p class="pt-3 " style="text-align: center;font-weight: 500;color: #888888;border-top:1px solid #a5a5a5 ;">Already registered? 
                            <!-- <a href="{%url 'Signin' %}" style="text-decoration: none;"><span style="color: #4baf47;">Sign in</span></a> -->
                            <a href="{%url 'Signin_g' %}" style="text-decoration: none;"><span style="color: #4baf47;">Sign in</span></a>
                        </p>
                        
                            <a href="{% url 'Home' %}"><button class="custom-button" >
                                <span class="text ">HOME</span>
                                <span class="icofont-home ps-2"></span> <!-- Replace with a proper icon if needed -->
                            </button></a>
                            
                    </div>

                    <div class="col-md-7 ps-5 image-col">
                        <img src="{%static 'images/Untitled_Project__2_-removebg-preview.png' %}" class="img-fluid" height="500px" width="620px">
                    </div>

                </div>
            

        </div>

    </div>

    <!---->

    <script>
        function validatePassword() {
            const password = document.getElementById("password").value;
    
            // Define custom validation rules
            const lengthCheck = /.{8,}/;
            const uppercaseCheck = /[A-Z]/;
            const lowercaseCheck = /[a-z]/;
            const numberCheck = /\d/;
            const specialCharCheck = /[@$!%*?&]/;
    
            if (!lengthCheck.test(password)) {
                alert("Password must be at least 8 characters long.");
                return false;
            } else if (!uppercaseCheck.test(password)) {
                alert("Password must include at least one uppercase letter.");
                return false;
            } else if (!lowercaseCheck.test(password)) {
                alert("Password must include at least one lowercase letter.");
                return false;
            } else if (!numberCheck.test(password)) {
                alert("Password must include at least one number.");
                return false;
            } else if (!specialCharCheck.test(password)) {
                alert("Password must include at least one special character (@$!%*?&).");
                return false;
            }
    
            return true; // If all checks pass
    }

 
function togglePassword(fieldId) {
    const passwordField = document.getElementById(fieldId);
    const icon = passwordField.nextElementSibling.querySelector("i");
    
    if (passwordField.type === "password") {
        passwordField.type = "text";
        icon.classList.remove("icofont-eye-alt");
        icon.classList.add("icofont-eye-blocked");
    } else {
        passwordField.type = "password";
        icon.classList.remove("icofont-eye-blocked");
        icon.classList.add("icofont-eye-alt");
    }
}
    </script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const loader = document.getElementById("loader");

        // Show loader on form submission
        document.querySelector("form").addEventListener("submit", event => {
            const form = event.target;

            // Validate the form before showing the loader
            if (!form.checkValidity()) {
                // Trigger default validation messages
                form.reportValidity();
                return; // Stop further execution if form is invalid
            }

            // Show loader and wait before submitting the form
            event.preventDefault(); // Prevent default form submission
            loader.classList.add("show");

            setTimeout(() => {
                form.submit(); // Submit the form after delay
            }, 1500); // Adjust delay as needed
        });

        // Hide loader after page load
        window.addEventListener("load", () => {
            loader.classList.remove("show");
        });
    });
</script>

<script>
    AOS.init();
  </script>
</body>

</html>

