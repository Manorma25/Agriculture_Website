{% extends 'sidebar.html' %}
{% block content %}
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nitrogen Usage in Agriculture</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'icofont/icofont.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
           
            color: #2d3e50;
           
        }

      
        .container {
            background-color: #f6f6f6;
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            border: 1px solid #4baf47;
        }

        .info {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .info h3 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #34495e !important;
        }

        .info p {
            font-size: 1rem;
            color: #6c757d;
            line-height: 1.6;
            margin-top: 10px;
        }

        .info-content {
            flex: 2;
        }

        .image-wrapper {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .image-wrapper img {
            
            border-radius: 8px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .form-section {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            border: 1px solid #ebedf2;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
           
        }

        .form-section h3 {
            font-size: 1.6rem;
            font-weight: 600;
            margin-bottom: 25px;
            color: #2d3e50;
        }

        select {
            width: 100%;
            padding: 12px;
            border-radius: 6px;
            border: 2px solid #4baf47;
            background-color: #ffffff;
            font-size: 1rem;
            margin-bottom: 25px;
            color: #2d3e50;
        }

        select:hover,
        select:focus {
            border-color: #4baf47;
        }

        .button {
            background-color: #4baf47;
            color: white;
            padding: 12px 0;
            border: none;
            border-radius: 6px;
            font-size: 1.2rem;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s ease;
        }

        .button:hover {
            background-color: #44a341;
        }

       
        .heading-design {
        text-align: center;
        font-family: 'Algerian', sans-serif;
        background: linear-gradient(90deg, #eec044, #f3b700);
        color: white;
        width: 80%;
        border-radius: 30px 0px 30px 0px;
        font-size: 2.5rem;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }

    .m {
       
       animation: moveArrow 1s infinite alternate, glow 1.5s infinite;
   }

   /* Animation for moving the arrow */
   @keyframes moveArrow {
       0% {
           transform: translateX(0);
       }
       100% {
           transform: translateX(-10px);
       }
   }
   a{
    color:black;
    text-decoration:none
   }

   .loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Ensures it appears on top of everything */
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}

.loader-overlay.show {
    visibility: visible;
    opacity: 1;
}

        /* Responsive Design */
        @media (max-width: 768px) {
            .info {
                flex-direction: column;
            }

            .info-content {
                text-align: center;
            }

            h2 {
                font-size: 2rem;
            }

            .form-section {
                margin-top: 30px;
            }

             .m{
                margin-left: -90px !important;
            }

            .heading-design {
        text-align: center;
        font-family: 'Algerian', sans-serif;
        background: linear-gradient(90deg, #eec044, #f3b700);
        color: white;
        width: 100%;
        border-radius: 30px 0px 30px 0px;
        font-size: 1.0rem;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        margin-left: -70px !important;
    }
            .container {
                flex-direction: column;
                width: 130%;
                margin-left: -65px;
                padding: 10px !important;
               
            }

            .info {
                margin-bottom: 20px;
                margin-right: 0;
            }

            .form-section {
           margin-top: -1px ;
           padding: 10px;
           
        }

            option {
                font-size: 9px;
            }
            
            .info {
                margin-bottom: 20px;
                margin-right: 0;
            }

            .form-title {
                font-size: 1.5rem;
            }

            .button {
                font-size: 0.9rem;
            }
            .image-wrapper img {
            
            width: 250px;
        }
        }
    </style>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const loader = document.getElementById("loader");

    // Show loader when a link is clicked
    document.querySelectorAll("a").forEach(link => {
        link.addEventListener("click", event => {
            if (link.target === "_blank") return; // Skip if opening in a new tab
            
            event.preventDefault(); // Prevent immediate navigation

            // Show loader and wait 5 seconds before navigating
            loader.classList.add("show");
            setTimeout(() => {
                window.location.href = link.href; // Navigate to the link after 5 seconds
            }, 2000); // 5 seconds delay
        });
    });

    // Show loader when the form is submitted
    const form = document.querySelector("form");
    if (form) {
        form.addEventListener("submit", event => {
            event.preventDefault(); // Prevent immediate form submission
            
            // Show loader
            loader.classList.add("show");

            // Allow form submission to proceed after a 7-second delay
            setTimeout(() => {
                form.submit(); // Submit the form after 7 seconds
            }, 2000); // 7 seconds delay
        });
    }

    // Hide loader after page loads
    window.addEventListener("load", () => {
        loader.classList.remove("show");
    });
});


</script>

</head>

<body style="background-color: rgba(238, 192, 68, 0.1);">
    <div id="loader" class="loader-overlay">
        <img src="{%static 'images/loader.gif' %}" alt="Loading..." height="200px" width="200px" style="border-radius: 50%;">
    </div>
    <div style="display: flex; align-items: start; font-size: 50px; position: relative;margin-top: -10px;" class="m">
        <a href="{% url 'wheat_ques' %}"><i class="icofont-arrow-left back-icon ps-5"></i></a>
    </div>
   

    <div style="display: flex;justify-content: center;align-items: center; margin-top: -30px;">
        <h2 class="mb-3 pb-2 heading-design pt-2">Wheat Production by a Country Over Time</h2>
    </div>

    <div class="container mt-4">

        <!-- Info Section -->
       

        <!-- Form Section -->
        <div class="form-section ">
            <h3 style="color:#34495e">Select a Country</h3>
            <form action="" method="POST">
                {% csrf_token %}
                <select name="country">
                    {% for i in cont %}
                    <option value="{{ i }}">{{ i }}</option>
                    {% endfor %}
                </select>
                <button type="submit" class="button">Submit</button>
            </form>
        </div>

        <div class="info mt-4">
            <div class="image-wrapper">
                <img src="{% static 'images/w.gif' %}" alt="Nitrogen Usage Image" height="180px" >
            </div>
            <div class="info-content">
                <h3>About Wheat Production</h3>
                <p style="text-align: justify;">
                    Wheat is one of the most widely grown crops in the world, essential for 
                    food supply. Its production is affected by soil quality, rainfall, and temperature. 
                    Advances in agricultural technology have helped boost yields, but challenges like climate 
                    change and water scarcity continue to impact productivity
                </p>
            </div>
        </div>

    </div>
</body>

</html>
{% endblock %}
